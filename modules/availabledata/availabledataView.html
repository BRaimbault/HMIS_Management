
<!--   
   Copyright (c) 2015.
 
   This file is part of Project Manager.
 
   Project Manager is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.
 
   Project Manager is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
 
   You should have received a copy of the GNU General Public License
   along with Project Manager.  If not, see <http://www.gnu.org/licenses/>. -->

<h2>{{ 'AVAILABLE_DATA' | translate}}</h2>	

<table class="table table-bordered table-condensed table-hover" ng-show="tableDisplayed">
	<thead>
		<tr>
			<th class="orgunit">{{ 'ORGANISATIONUNIT_LABEL' | translate}}</th>
			<th ng-repeat="pe in periods">{{ pe.name }}</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="ou in tableRows | orderBy:'fullName'" ng-show="{{ ou.relativeLevel == 0 || (ou.parents) }}"
				ng-click="!ou.isLastLevel && clickOrgunit(ou.id)">
			<td class="level{{ ou.level }}" style="text-indent: {{ou.relativeLevel}}em">
					<span class="glyphicon {{ou.isLastLevel ? 'glyphicon-chevron-right' :
									(ou.relativeLevel == 0 ? 'glyphicon-minus' : 'glyphicon-plus') }}"></span>
				{{ ou.name }}
			</td>
			<td ng-repeat="pe in periods" title="{{ou.name}} - {{pe.name}}">{{ou.data[pe.id] | number:0}}</td>
		</tr>
	<!--
	<tr ng-repeat="ou in orgunits | orderBy:'fullName'"	ng-show="{{ ou.relativeLevel == 0 || (ou.parents) }}"
		ng-click="!ou.isLastLevel && clickOrgunit(ou.id)" on-last-repeat>
			<td id="ou_{{ou.id}}" class="level{{ ou.level }}" style="text-indent: {{ou.relativeLevel}}em">
				<span class="glyphicon {{ou.isLastLevel ? 'glyphicon-chevron-right' : 
								(ou.relativeLevel == 0 ? 'glyphicon-minus' : 'glyphicon-plus') }}" aria-hidden="true"></span>
				{{ ou.name }}
			</td>
			<td ng-repeat="pe in periods" class="{{ ou.id }} {{ pe.id }}" title="{{ou.name}} - {{pe.name}}"></td>
		</tr>
		-->
	</tbody>
</table>

<d2-progressbar></d2-progressbar>